---
import Layout from '../layouts/Layout.astro'
import Hero from '../components/Hero.astro'
import WrapperDiagonal from '../components/WrapperDiagonal.astro'
import Button from '../components/ui/Button-old.astro'
import CTA from '../components/CTA.astro'
import AccordionJobListing from '../components/AccordionJobListing.astro'

import benefits from '../data/benefits.json'
import jobs from '../data/jobs.json'
import { parse } from '@barba/core/dist/core/src/utils/url'
---

<Layout title='Careers' namespace="careers">
  <Hero class="text-center justify-center">
    <h2 class="h1 text-[55px] xl:text-[110px]"><span class="text-outline text-outline--light">Join our</span> <br class="hidden lg:block">team</h2>
    <Button title="view job openings" url="#openings" />
  </Hero>
  <WrapperDiagonal defaultCTA={false}>
    <!-- Intro -->
    <section id="intro" data-anim-group data-anim-markers class="mb-20 lg:mb-48 text-darkgray wrapper">
      <div class="lg:max-w-[815px] lg:mx-auto transition-fade transition-in text-center">
        <h2 data-revealtext data-anim-elem="revealText" class="mb-8">We're always looking for creative, technical, and strategic thinkers.</h2>
        <div data-anim-elem="fadeInUp" data-anim-timing="0.5">
          <p class="large">We love what we do and we want the same for anyone that joins our team. Our passion is contagious and it shows through the work we create for our clients every day. It almost doesn't feel like work &ndash; and that's how we like it. If you share the same passion and want to collaborate in a fun, laid-back environment while doing what you love &ndash; we'd love to hear from you.</p>
          <div class="mt-16">
            <a id="benefits-link" class="font-black font-serif text-gold italic text-18 flex justify-center flex-col items-center gap-y-2" href="#benefits">
              <span>keep scrolling to view benefits</span>
              <i class="arrow-down"></i>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Benefits -->
    <section id="benefits" class="bg-darkgray text-white text-left wrapper py-20 lg:py-72 transition-fade transition-in">
      <div data-arrange="2-columns" class="grid lg:grid-cols-2 gap-x-60">
        <div class="-mt-24 hidden lg:block" data-arrange-column="1"></div>
        <div class="mt-24 hidden lg:block" data-arrange-column="2"></div>
        {benefits.map((benefit, i) => 
          <div data-arrange-item class="w-full mb-14 pb-14 lg:mb-24 lg:pb-24 border-b border-b-mediumgray last:border-b-0 last:mb-0 last:pb-0 benefit max-w-xl mx-auto lg:max-w-none">
            <h3>{benefit.headline}</h3>
            <div class="lg:max-w-[440px]">
              <p class="large" set:html={benefit.paragraph} />
            </div>
          </div>
        )}
      </div>
      <!--
      <div data-arrange="2-columns" class="grid lg:grid-cols-2 gap-x-60">
        <div class="lg:-mt-16">
          {benefits.filter((benefit, i) => (i % 2 === 0)).map((benefit, i) =>
            <div class="w-full mb-20 benefit">
              <h3>{benefit.headline}</h3>
              <p>{benefit.paragraph}</p>
            </div>
          )}
        </div>

        <div class="lg:mt-16">
          {benefits.filter((benefit, i) => (i % 2 !== 0)).map((benefit, i) => 
            <div class="w-full mb-20 benefit">
              <h3>{benefit.headline}</h3>
              <p>{benefit.paragraph}</p>
            </div>
          )}
        </div>
      </div>
      -->
    </section>

    <!-- Openings -->
    <section id="openings" class="wrapper py-20 lg:py-40 transition-fade transition-in">
      <h3 data-anim-elem="fillText" class="h1 text-left grid grid-cols-1 grid-rows-1">
        <span data-filltext="outline" class="relative z-40 col-start-1 row-start-1 text-outline text-outline--dark">Current <br>Openings</span>
        <span data-filltext="fill" class="relative z-40 col-start-1 row-start-1">Current <br>Openings</span>
      </h3>
      
      <div class="lg:mx-14 border-t border-darkgray mt-8 lg:mt-12">
        {jobs.map((job, i) => 
          <AccordionJobListing title={job.title} type={job.type} description={job.description} id={i.toString()} />
        )}  
      </div>

      <!--
      <li class="border-b-darkgray border-b py-8">
        <div class="flex justify-between items-center">
          <h3 class="h4"></h3>
          <h4></h4>
          <button class="text-gold text-[34px] font-bold">+</button>
        </div>
        <div class="max-w-[100ch] text-left">
          <p set:html= />
        </div>
      </li>
      -->
    </section>
    <CTA headlines={['Meet our team']} buttonText='learn more about us' buttonUrl='/about/' />
  </WrapperDiagonal>
</Layout>