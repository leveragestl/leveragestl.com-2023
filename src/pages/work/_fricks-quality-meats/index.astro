---
// Components
import Layout from '~/layouts/Layout.astro'
import Hero from '~/components/Hero.astro'
import WrapperDiagonal from '~/components/WrapperDiagonal.astro'
import WorkExcerpt from '~/components/WorkExcerpt.astro'
import CTA from '~/components/CTA.astro'

import projects from '~/data/projects.json'

// UI
import Button from '~/components/ui/Button.astro'

// Utils
import { Image } from 'astro:assets'
import { getImage } from 'astro:assets'
import { parse } from 'node-html-parser'

// Media
import featuredImg from './fricks-featured-image.jpg'
import video from './fricks-video.mp4'
import videoThumb from './fricks-video-thumbnail.png'
import sliderImage1 from './fricks-slide-1.jpg'
import sliderImage2 from './fricks-slide-2.jpg'
import sliderImage3 from './fricks-slide-3.jpg'
import laptop from './fricks-laptop.png'
import heroOld from './fricks-hero-old.png'
import heroNew from './fricks-hero-new.jpg'
import phone from './fricks-phone.png'
import layout1 from './fricks-layout-1.jpg'
import layout2 from './fricks-layout-2.jpg'
import bgPattern from './fricks-bg.png'
import smokeyGoodness from './smokey-goodness.svg'
import seriousFlavor from './serious-flavor.svg'

// Image Parser
const optimizedBackground = await getImage({src: featuredImg, format: 'webp'})

// Meta Data
const title = "Frick's<br> Quality Meats"
const slug = 'fricks-quality-meats'

// More Work Setup
let projectsArray = []
projects.map(project =>
  // check if slugs match so we don't show the same project
  slug.replaceAll('/', '') !== project.slug.replaceAll('/', '') && (
    projectsArray.push(project)
  )
)
---

<Layout title={(title).replace(new RegExp('<[^>]*>', 'g'), '')} namespace={slug}>
  <!-- <Hero style={'background-image: url('+optimizedBackground.src+');'} class:list={['bg-cover bg-center bg-no-repeat']}>
    <h1>{title}</h1>
  </Hero> -->

  <Hero image={optimizedBackground.src} alt="A man wearing a butcher's smock standing behind a counter carving a ham" width={1920} height={1080}>
    <div data-speed="0.75">
      <h1>{parse(title)}</h1>
    </div>
  </Hero>

  <WrapperDiagonal defaultCTA={false}>
    <div class="transition-in transition-fade [&>section]:mb-12 md:[&_section]:mb-36">
      
      <!-- Intro -->
      <section id="intro" class="wrapper grid grid-cols-12">
        <div class="md:col-start-first md:col-end-8">
          <h3 class="font-extrabold">An unforgettable eating experience for five generations and counting</h3>
          <p class="large">Frick's has been producing quality meats for generations, but for them it's more than just a product—it's a passion. They truly care about the team behind the product and the people who enjoy it. We helped arm them with new photography and a brand anthem video to humanize their brand, and showcase the emotional connection people feel when consuming their products. We then utilized these assets when redesigning and developing their website—which has served as a more valuable resource for their customers.</p>
        </div>

        <div class="md:col-start-9 md:col-end-last flex justify-center">
          <div class="">
            <h4 class="mb-8 inline-block after:w-full after:h-[2px] after:bg-darkgray after:block">Project Scope</h4>
            <ul class="font-serif">
              <li class="mb-2"><a class="hover:text-gold transition-colors duration-300 ease-out" href="">video</a></li>
              <li class="mb-2"><a class="hover:text-gold transition-colors duration-300 ease-out" href="">photography</a></li>
              <li class="mb-2"><a class="hover:text-gold transition-colors duration-300 ease-out" href="">web design + development</a></li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Video -->
      <section id="video" class="wrapper-wide">
        <video data-video data-cursor-play data-cursor-enlarge playsinline class="w-full cursor-pointer bg-darkgray" src={video} poster={videoThumb.src}></video>
      </section>

      <!-- Text Block -->
      <section class="wrapper text-center">
        <div class="max-w-screen-sm mx-auto">
          <h3 class="font-extrabold">A frickin' good story line</h3>
          <p class="large">We set out to share Frick's story with their audience and featured it on the home page of their website. I'm going to re-write this content to more specifically talk about the brand anthem video and what went into producing it.</p>
        </div>
      </section>

      <!-- Slider -->
      <section id="slider">
        <div data-slider="image-carousel" data-cursor="-hidden" class="relative wrapper swiper flex flex-col md:flex-row gap-x-20 cursor-grab active:cursor-grabbing">
          <div class="swiper-wrapper">

            <figure class="swiper-slide w-full h-full overflow-clip aspect-[542/554] bg-neutral-200">
              <img class="w-full h-full object-cover object-center" src={sliderImage1.src} alt="" />
            </figure>

            <figure class="swiper-slide w-full h-full overflow-clip aspect-[542/554] bg-neutral-200">
              <img class="w-full h-full object-cover object-center" src={sliderImage2.src} alt="" />
            </figure>

            <figure class="swiper-slide w-full h-full overflow-clip aspect-[542/554] bg-neutral-200">
              <img class="w-full h-full object-cover object-center" src={sliderImage3.src} alt="" />
            </figure>

          </div>
        </div>
      </section>

      <!-- Text Block (side-by-side) -->
      <section class="wrapper-wide grid grid-cols-12">
        <div class="col-start-first col-end-last md:col-end-8">
          <h3 class="h1">Bringing it <br class="hidden lg:block">all together</h3>
        </div>
        <div class="md:col-start-8 col-start-first col-end-last content-block">
          <p class="large">Frick's came to us with a website that was primarily focused on the mobile experience. We redesigned and developed their site to be a beautiful, dynamic experience across any device. The Frick's brand is jovial, but they are also very serious about the quality of their product. By animating large, bold phrases throughout the background of the site we were able to demonstrate their personality, while highlighting key descriptors that separate them from the competition.</p>
        </div>
      </section>

      <!-- Mockup -->
      <section id="mockup" class="bg-darkgray md:mt-60 !mb-0">
        <figure class="md:w-3/4 mx-auto md:-translate-y-28">
          <Image src={laptop} alt="fricksqualitymeats.com website mockup on macbook" />
          <div class="text-center md:mt-16"><Button tag='a' slash>see full website</Button></div>
        </figure>
      </section>

      <!-- Comparison -->
      <section id="comparison" class="!mb-0">
        <div data-compare-swiper>
          <!-- before / after -->
          <!-- <h5 class="label col-start-[content] col-end-[mid] text-left">before</h5>
          <h5 class="label col-start-[mid] col-end-[content] text-right">after</h5> -->
        
          <!-- images -->
          <div class="image">
            <h5 class="label text-center">before</h5>
            <figure><Image src={heroOld} alt="Screenshot of old website" /></figure>
          </div>
          <div class="image">
            <h5 class="label text-center">after</h5>
            <figure><Image src={heroNew} alt="Screenshot of new website" /></figure>
          </div>

          <!-- background -->
          <div class="background bg-mediumgray col-span-full row-span-full w-full h-full -z-10"></div>
        </div>
      </section>

      <div class="bg-darkgray text-white">

        <!-- Stats -->
        <section id="stats" class="wrapper text-center md:pt-36">
          <h3 class="font-extrabold">A mouthwatering <br>resource for consumers</h3>
          <div class="content-block max-w-screen-md mx-auto">
            <p>By building more robust 'Recipe' and 'Meat Know-How' sections, as well as adding a store locator tool, the Frick's website is now a better resource for their customers.</p>
            <p>The number of inquiries regarding their product—such as cooking and carving questions, recipe ideas, or where to find their products, had already decreased by 12% just weeks after launch. This has allowed them to spend more time on other areas of the business rather than responding to questions.</p>
          </div>
          <div class="grid grid-cols-3 mt-12 md:mt-20">
            <div class="">
              <h4 class="text-outline text-outline--light h1 mb-0">12%</h4>
              <h5 class="h3 font-extrabold mb-1">Decrease</h5>
              <div class="max-w-[25ch] mx-auto">
                <p class="small">in customer questions just weeks after site launch</p>
              </div>
            </div>
            <div class="">
              <h4 class="text-outline text-outline--light h1 mb-0">20%</h4>
              <h5 class="h3 font-extrabold mb-1">Increase</h5>
              <div class="max-w-[25ch] mx-auto">
                <p class="small">in product sales</p>
              </div>
            </div>
            <div class="">
              <h4 class="text-outline text-outline--light h1 mb-0">20%</h4>
              <h5 class="h3 font-extrabold mb-1">Increase</h5>
              <div class="max-w-[25ch] mx-auto">
                <p class="small">in product sales</p>
              </div>
            </div>
          </div>
        </section>

        <section id="mockups" class="wrapper-wide">
          <div class="relative grid grid-cols-2 grid-rows-2 bg-[#F8F3EC] gap-y-10" style=`background-image:url('${bgPattern.src}');`>
            <figure class="row-span-full flex justify-center items-center relative z-10">
              <Image class="h-auto" width={302} src={phone} alt="Mockup of fricksqualitymeats.com on iPhone" />
            </figure>

            <figure class="col-start-2 -mt-20 relative z-10">
              <Image class="shadow-md" height={515} src={layout1} alt="Screenshot of fricksqualitymeats.com homepage" />
            </figure>

            <figure class="col-start-2 -mb-20 relative z-10">
              <Image class="shadow-md" height={515} src={layout2} alt="Screenshot of fricksqualitymeats.com recipe page" />
            </figure>

            <figure class="absolute z-0 -bottom-4 -left-2">
              <Image class="" src={smokeyGoodness} alt="" />
            </figure>

            <figure class="absolute z-0 top-[calc(50%_-_3rem)] -right-2 -translate-y-1/2">
              <Image class="" src={seriousFlavor} alt="" />
            </figure>
          </div>
        </section>

        <!-- Quote -->
        <section id="quote" class="wrapper md:py-36">
          <div class="max-w-lg">
            <h3 class="h4 mb-8 lg:mb-16">What our clients are saying...</h3>
          </div>
          <div class="max-w-[824px] mx-auto">
            <blockquote class="mb-10 grid grid-cols-2 gap-y-8 lg:gap-y-12 justify-between">
              <p class="col-span-2">
                &OpenCurlyDoubleQuote; Matt and Laura were very responsive, thorough, and helped us get the most out of our budget. They met our ambitions and unique challenges head on, and the improved functionality of our website has reduced consumer inquiries and the man-hours needed to respond to them. Thanks Matt & Laura for helping us achieve our goals! &CloseCurlyDoubleQuote;
              </p>
              <cite class="col-span-2 lg:col-span-1">
                <div class="h4 mb-0 uppercase">Rachel F.</div>
                <div class="italic text-base">Marketing Coordinator, Frick's Quality Meats</div>
              </cite>
            </blockquote>
          </div>
        </section>

      </div>

      <!-- More Work -->
      <section class="wrapper">
        <div class="w-full flex justify-center">
          <h3 data-anim-elem="fillText" class="h1 mb-0 grid grid-cols-1 grid-rows-1">
            <span data-filltext="outline" class="transition-fade relative z-40 col-start-1 row-start-1 text-outline text-outline--dark">More Work</span>
            <span data-filltext="fill" class="transition-fade relative z-40 col-start-1 row-start-1">More Work</span>
          </h3>
        </div>
        <div class="grid md:grid-cols-2 mt-12 gap-y-12 md:gap-y-16 md:mt-16 work-columns">

          {projectsArray.slice(0, 2).map(project =>
            <div data-anim-elem="fadeInUp" class="workTile md:mx-6 xl:mx-16">
              <div class="transition-fade">
                <WorkExcerpt slug={('/work/'+project.slug).replace('//', '/')} title={project.title} img={project.img} tags={project.tags} desc={project.desc} />
              </div>
            </div>
          )}
        </div>

        <div class="mt-12 lg:mt-20 transition-fade text-center">
          <Button slash href="/work/" tag='a'>view all work</Button>
        </div>

      </section>

      <div class="wrapper-wide my-12 md:mt-40 md:mb-20">
        <hr class="border-darkgray border-t-2">
      </div>

    </div>

    <CTA defaultClasses={false} class="wrapper mt-0 lg:mt-0 lg:pb-16" />
  </WrapperDiagonal>
</Layout>